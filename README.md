# –ö—É—Ä—Å–æ–≤–æ–π –ø—Ä–æ–µ–∫—Ç. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ Python

# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤

> –í –ø—Ä–æ–µ–∫—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∞–ª–≥–æ—Ä–∏—Ç–º—ã –ø–æ–∏—Å–∫–∞, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º –æ–±—ä–µ–º–æ–º –¥–∞–Ω–Ω—ã—Ö (–∞—Ä—Ö–∏–≤ –∑–∞ 5 –ª–µ—Ç) –ø–æ –∫–æ—Ç–∏—Ä–æ–≤–∫–∞–º –∞–∫—Ü–∏—è –∫–æ–º–ø–∞–Ω–∏–π –∏–∑ S&P 500.
> 

- –î–ª—è —Å—á–∏—Ç—ã–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `pandas`.
- –î–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫, —Ç–∏–∫–µ—Ä–æ–≤ –∫–æ–º–ø–∞–Ω–∏–π –∏ –¥–∞—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥ –±—ã—Å—Ç—Ä–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ *Quick Sort*.
- –ü–æ–∏—Å–∫ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–º –¥–∞–Ω–Ω—ã—Ö –≤–µ–¥–µ—Ç—Å—è –Ω–∞ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –∞–ª–≥–æ—Ä–∏—Ç–º –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞.
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ö–∞–Ω–∏–∑–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞, –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è.

–ü—Ä–æ–µ–∫—Ç –æ—Ñ–æ—Ä–º–ª–µ–Ω –≤ –≤–∏–¥–µ poetry-–ø–∞–∫–µ—Ç–∞ —Å–æ —Å–∫—Ä–∏–ø—Ç–∞–º–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–ª—É—á–∞—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤—ã–±–æ—Ä–∫—É –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –ø–æ–∏—Å–∫ –¥–∞–Ω–Ω—ã—Ö.

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

<aside>
üí° –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è –≤ —Ä–∞–±–æ—Ç–µ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.

</aside>

–°–æ–∑–¥–∞–π—Ç–µ —Å –ø–æ–º–æ—â—å—é `poetry` –ø–∞–∫–µ—Ç –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞.

–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.  

<aside>
üí° –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –¥–µ–ª–∞—Ç—å —á–∞—Å—Ç—ã–µ –∫–æ–º–∏—Ç—ã —Å –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏.

</aside>

–î–æ–±–∞–≤—å—Ç–µ –≤¬†*pyproject.toml* –≤ —Ä–∞–∑–¥–µ–ª `[tool.poetry.scripts]` —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞

- `get-sorted`
- `get-banch`

> –ü—Ä–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ [—Ç—É—Ç](https://www.notion.so/2fcd1584f4224f6582a9220f9d112bbe?pvs=21).
> 

–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤–µ–¥–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É. –ü–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π. –ó–∞–ø—É—Å–∫ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –Ω–∏–∂–µ:

```bash
~$ poetry run get-sorted
–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Ü–µ–Ω–µ 
–æ—Ç–∫—Ä—ã—Ç–∏—è (1)
–∑–∞–∫—Ä—ã—Ç–∏—è (2)
–º–∞–∫—Å–∏–º—É–º [3]
–º–∏–Ω–∏–º—É–º (4)
–æ–±—ä–µ–º (5)

–ü–æ—Ä—è–¥–æ–∫ –ø–æ —É–±—ã–≤–∞–Ω–∏—é [1] / –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é (2): 1
–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∫–∏ [10]: 50
–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ [dump.csv]: result.csv
```

–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –æ–ø—Ü–∏–∏. –í `[]` —Å–∫–æ–±–∫–∞—Ö —É–∫–∞–∑–∞–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∏—á–µ–≥–æ –Ω–µ –≤–≤–µ–¥–µ—Ç –∏ –Ω–∞–∂–º–µ—Ç `Enter`. –í `()` —Å–∫–æ–±–∫–∞—Ö —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –¥—Ä—É–≥–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ–ø—Ü–∏–∏.

–ü–æ –∏—Ç–æ–≥—É –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –≤—ã—à–µ, —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—ã–∑–æ–≤ —Ç–∞–∫–æ–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏:

```python
select_sorted(sort_columns=['high'], order='desc', limit=50, filename='result.csv')
# –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ result.csv –¥–∞–Ω–Ω—ã–µ –∏–∑ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞, 
# –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –∫–æ–ª–æ–Ω–∫–µ 'high'
# –≤ –ø–æ—Ä—è–¥–∫–µ —É–±—ã–≤–∞–Ω–∏—è
# –ø–µ—Ä–≤—ã–µ 50 –∑–∞–ø–∏—Å–µ–π
```

–ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—ã–±–æ—Ä–∫–∏ –ø–æ –¥–∞—Ç–µ:

```bash
~$ poetry run get-banch
–î–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ yyyy-mm-dd [all]: 2017-08-08
–¢–∏–∫–µ—Ä [all]: PCLN
–§–∞–π–ª [dump.csv: 20170808PCLN.csv
```

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å–∫—Ä–∏–ø—Ç–∞ `get-by-date` –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–≤–µ–ª –¥–∞—Ç—É, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤—Å–µ –¥–∞—Ç—ã. –ï—Å–ª–∏ –Ω–µ –≤–≤–µ–ª —Ç–∏–∫–µ—Ä, –±–µ—Ä—É—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–∫–µ—Ä–æ–≤.

–†–µ–∑—É–ª—å—Ç–∞—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è, –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–≥–æ –≤—ã—à–µ - —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –≤—ã–±–æ—Ä–∫–∏ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –≤—Ö–æ–¥–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

```python
get_by_date(date="2017-08-08", name="PCLN", filename='20170808PCLN.csv')
# —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ —Ñ–∞–π–ª –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–∏–∫–µ—Ä–∞ "PCLN" –∑–∞ 2017-08-08
```

–ü—Ä–∏–º–µ—Ä –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è, –µ—Å–ª–∏ –Ω–∞–¥–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –ø–æ–¥ –æ–¥–Ω–æ–º—É —Ç–∏–∫–µ—Ä—É:

```bash
~$ poetry run get-banch
–î–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ yyyy-mm-dd [all]: 
–¢–∏–∫–µ—Ä [all]: PCLN
–§–∞–π–ª [dump.csv: PCLN.csv
```

–ù–∞–¥–æ –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ —Ç–æ—Ä–≥–∞–º –≤—Å–µ–º–∏ —Ç–∏–∫–µ—Ä–∞–º–∏ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –¥–µ–Ω—å:
